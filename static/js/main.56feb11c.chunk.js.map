{"version":3,"sources":["redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Header/Header.module.css","common/Pagination/Pagination.module.css","DAL/api.js","components/Users/Users.module.css","redux/users-reducer.js","redux/app-reducer.js","redux/store.js","redux/selectors/app-selector.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/auth/Auth.jsx","components/auth/AuthContainer.jsx","HOC/withSuspenseHOC.js","components/News/News.jsx","components/Music/Music.jsx","redux/selectors/users-selector.js","common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Settings/Settings.jsx","App.js","reportWebVitals.js","index.js","redux/auth-reducer.js","assets/Spinner.gif","common/Preloader/Preloader.jsx","redux/selectors/auth-selector.js","components/auth/Auth.module.css","common/customFields/CustomFields.module.css","common/customFields/CustomFields.jsx","common/Preloader/Preloader.module.css","redux/profile-reducer.js","common/validation/formValidation.js","HOC/withAuthRedirectHOC.js"],"names":["ADD_NEW_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","initialState","dialogItems","messages","addNewMessageAC","newMessageText","type","dialogsReducer","state","action","module","exports","instance","axios","create","baseURL","withCredentials","headers","authAPI","authMe","get","then","response","data","login","email","password","rememberMe","post","logout","delete","userAPI","getUser","getUsers","currentPage","getTotalCount","userId","profileAPI","updateStatus","status","put","getStatus","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_COUNT","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","ADD_FOLLOWING_IN_PROGRESS","REMOVE_FOLLOWING_IN_PROGRESS","users","totalCount","pagesCount","isFetching","followingInProgress","toggleIsFetchingAC","addFollowingInProgressAC","removeFollowingInProgressAC","setUsersTC","dispatch","newUsers","action1","items","action2","followTC","follow","resultCode","id","followAC","unfollowTC","unfollow","unfollowAC","setTotalCountTC","usersReducer","currentIndex","tempObj","filter","user","index","newObj","followed","tempArr","splice","selectedPage","arr","SET_INITIALIZED","initialized","setInitializedTC","promise1","authMeTC","Promise","all","appReducer","reducers","combineReducers","stateOfProfilePage","profileReducer","stateOfDialogsPage","stateOfUsersPage","stateOfAuth","authReducer","stateOfApp","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","getInitializedBoolVal","Header","props","className","styles","header","src","alt","isAuth","loginName","onClick","to","connect","getIsAuthBoolVal","getLoginName","thunk","logoutTC","Navbar","item","nav","activeClassName","active","maxLength30","maxLengthCreator","AuthReduxForm","reduxForm","onSubmit","handleSubmit","inputWrapper","Field","component","Input","placeholder","validate","name","fieldValue","Auth","auth","formData","loginHandler","emailField","passwordField","checkboxField","getCurrentPage","React","useEffect","emailValue","passwordValue","checkBox","loginTC","withSuspenseHOC","Comp","Suspense","fallback","Preloader","News","Music","getPagesCount","getIsFetchingBoolVal","getArrFollowingInProgress","Pagination","useState","pages","setPages","amountOfPortions","setPortions","currentPortion","setCurrentPortion","i","push","classnames","pageNumber","selectPage","pagination","buttonWrapper1","unvisible","prevButton","buttonWrapper2","backButton","length","forwardButton","nextButton","console","log","User","userWrapper","avaButtonWrapper","userAvaWrapper","userData","userAva","unfollowButton","e","disabled","arrFollowingInProgress","some","followButton","userDataWrapper","Users","setTotalCount","setUsers","usersWrapper","undefined","map","compose","setCurrentPage","withAuthRedirectHOC","setCurrentPageAC","Settings","ProfileContainer","lazy","DialogsContainer","App","this","setInitialize","path","render","Profile","Dialogs","Component","WrappedApp","withRouter","ProvidedApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","LOGIN","LOGOUT","AUTH_ME","authMeAC","authData","preloaderWrapper","preloader","Spinner","getMyId","FormControl","wrapper","children","meta","touched","error","Textarea","input","textareaField","inputField","ADD_NEW_POST","SET_USER_PROFILE","SET_STATUS","posts","postText","likesCount","profile","addNewPostAC","newPostText","boolVal","setStatusAC","newStatus","setUserTC","userProfile","setStatusTC","a","updateStatusTC","requairedValid","amountOfSymbols","WrappedComp","match","url"],"mappings":"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","file":"static/js/main.56feb11c.chunk.js","sourcesContent":["\r\nconst ADD_NEW_MESSAGE = 'ADD_NEW_MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\n\r\nlet initialState = {\r\n  dialogItems: ['Sveta', 'Kostya', 'Sasha', 'Vitalyi', 'Dasha', 'Sergei', 'Nastya'],\r\n  messages: ['message1', 'message2', 'message3', 'message4', 'message5', 'message6', 'message7'],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case ADD_NEW_MESSAGE:\r\n      return {...state, messages: [...state.messages, action.newMessageText]}\r\n    case UPDATE_NEW_MESSAGE_TEXT:\r\n      return {...state, newMessageText: action.newMessageText}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Далее идут action creators\r\n// export const updateNewMessageTextAC = (newText) => {\r\n//   return {\r\n//     type: 'UPDATE_NEW_MESSAGE_TEXT', \r\n//     newMessageText: newText\r\n//   }\r\n// }\r\n\r\nexport const addNewMessageAC = (newMessageText) => {\r\n  return {\r\n    type: 'ADD_NEW_MESSAGE',\r\n    newMessageText\r\n  }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3OquK\",\"item\":\"Navbar_item__1x325\",\"active\":\"Navbar_active__10LLS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__zolt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2fITa\",\"pageNumber\":\"Pagination_pageNumber__1zfth\",\"selectedPage\":\"Pagination_selectedPage__1k7Pp\",\"buttonWrapper1\":\"Pagination_buttonWrapper1__JhebW\",\"buttonWrapper2\":\"Pagination_buttonWrapper2__3vFpa\",\"prevButton\":\"Pagination_prevButton__N_6aN\",\"pages\":\"Pagination_pages__17tMi\",\"backButton\":\"Pagination_backButton__3SfY2\",\"forwardButton\":\"Pagination_forwardButton__1nW54\",\"nextButton\":\"Pagination_nextButton__1dXga\",\"unvisible\":\"Pagination_unvisible__1P5X4\"};","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY' : '7113d2d2-3e34-4319-830f-bae42e4abf64'\r\n  }\r\n})\r\n\r\nexport const authAPI = {\r\n  authMe: function() { \r\n    return instance.get('auth/me')\r\n                  .then(response => response.data)\r\n  },\r\n  login(email, password, rememberMe) {\r\n    return instance.post('auth/login', {\r\n      email, password, rememberMe\r\n    }).then(response => {\r\n        return response.data})\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login')\r\n      .then(response => response.data) \r\n  }\r\n}\r\n\r\nexport const userAPI = {\r\n  getUser: function() {\r\n\r\n  },\r\n  getUsers: function(currentPage) { // получаем профили пользователей из диапазона\r\n    return instance.get('users' + `?cont=5&page=${currentPage}`)\r\n                  .then(response => response.data)\r\n  },\r\n  getTotalCount: function() {\r\n    return instance.get('users')\r\n                  .then(response => response.data)\r\n  },\r\n  getUser: function(userId) {\r\n    return instance.get('profile/' + userId)\r\n                .then(response => response.data)\r\n  },\r\n  follow: function(userId) {\r\n    return instance.post('follow' + `/${userId}`)\r\n                   .then(response => response.data)\r\n  },\r\n  unfollow: function(userId) {\r\n    return instance.delete('follow' + `/${userId}`)\r\n                  .then(response => response.data)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  updateStatus: function(status) {\r\n    return instance.put('profile/status/',{status})\r\n                    .then(response => response.data)\r\n  },\r\n  getStatus: function(userId) {\r\n    return instance.get('profile/status/'+ userId)\r\n                  .then(response => response.data)\r\n  } \r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"Users_usersWrapper__p2Aa0\",\"title\":\"Users_title__3iJpM\",\"pagination\":\"Users_pagination__AfVAi\",\"userWrapper\":\"Users_userWrapper__2p92z\",\"avaButtonWrapper\":\"Users_avaButtonWrapper__gF0v0\",\"userAva\":\"Users_userAva__26Qqk\",\"followButton\":\"Users_followButton__4zup2\",\"unfollowButton\":\"Users_unfollowButton__30ICq\",\"userDataWrapper\":\"Users_userDataWrapper__5V6pf\",\"userData\":\"Users_userData__2s2-K\"};","import {userAPI} from '../DAL/api'\r\n\r\nconst FOLLOW='FOLLOW'\r\nconst UNFOLLOW='UNFOLLOW'\r\nconst SET_USERS='SET_USERS'\r\nconst SET_TOTAL_COUNT='SET_TOTAL_COUNT'\r\nconst SET_CURRENT_PAGE='SET_CURRENT_PAGE'\r\nconst TOGGLE_IS_FETCHING='TOGGLE_IS_FETCHING'\r\nconst ADD_FOLLOWING_IN_PROGRESS = 'ADD_FOLLOWING_IN_PROGRESS'\r\nconst REMOVE_FOLLOWING_IN_PROGRESS = 'REMOVE_FOLLOWING_IN_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  totalCount: 0,\r\n  pagesCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state=initialState,action) => {\r\n  switch(action.type) {\r\n    case FOLLOW: {\r\n      let currentIndex;                                   // индекс изменяемого элемента\r\n      let tempObj = state.users.filter((user,index) => {  // массив, состоящий из одного элемента, который является\r\n        if(user.id === action.id){                        // новым объектом юзера\r\n          currentIndex = index\r\n          return true\r\n        }\r\n      })\r\n      let newObj = {...tempObj[0], followed: true}\r\n      let tempArr = [...state.users]\r\n      tempArr.splice(currentIndex,1,newObj)\r\n      return {...state,users: [...tempArr]}\r\n    }\r\n    case UNFOLLOW: {\r\n      let currentIndex;                                   // индекс изменяемого элемента\r\n      let tempObj = state.users.filter((user,index) => {  // массив, состоящий из одного элемента, который является\r\n        if(user.id === action.id){                        // новым объектом юзера\r\n          currentIndex = index\r\n          return true\r\n        }\r\n      })\r\n      let newObj = {...tempObj[0], followed: false}\r\n      let tempArr = [...state.users]\r\n      tempArr.splice(currentIndex,1,newObj)\r\n      return {...state,users: [...tempArr]}\r\n    }\r\n    case SET_USERS: {\r\n      return {...state, users: [...action.users]}\r\n    }\r\n    case SET_TOTAL_COUNT: {\r\n      let pagesCount = 0\r\n      if(action.totalCount%10 === 0){\r\n        pagesCount = action.totalCount/10\r\n      } else {pagesCount = action.totalCount/10 - action.totalCount%10/10 + 1}\r\n      return {...state, totalCount: action.totalCount, pagesCount: pagesCount}\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.selectedPage}\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching}\r\n    }\r\n    case ADD_FOLLOWING_IN_PROGRESS: {\r\n      return {...state, followingInProgress: [...state.followingInProgress, action.userId]}\r\n    }\r\n    case REMOVE_FOLLOWING_IN_PROGRESS: {\r\n      let arr = state.followingInProgress.filter(id => id !== action.userId)\r\n      return {...state, followingInProgress: [...arr]}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// далее идут action creators\r\nconst followAC = (userId) => {\r\n  return {\r\n    type: FOLLOW,\r\n    id: userId\r\n  }\r\n}\r\n\r\nconst unfollowAC = (userId) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    id: userId\r\n  }\r\n}\r\n\r\nconst setUsersAC = (newUsers) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users: newUsers\r\n  }\r\n}\r\n\r\nconst setTotalCountAC = (totalCount) => {\r\n  return {\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n}\r\n\r\nexport const setCurrentPageAC = (selectedPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    selectedPage\r\n  }\r\n}\r\n\r\nconst toggleIsFetchingAC = (isFetching) => {\r\n  return {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  }\r\n}\r\n\r\nconst addFollowingInProgressAC = (userId) => {\r\n  return {\r\n    type: ADD_FOLLOWING_IN_PROGRESS,\r\n    userId\r\n  }\r\n}\r\n\r\nconst removeFollowingInProgressAC = (userId) => {\r\n  return {\r\n    type: REMOVE_FOLLOWING_IN_PROGRESS,\r\n    userId\r\n  }\r\n}\r\n// далее идут thunk creators\r\nexport const setUsersTC = (currentPage) => {\r\n  // newUsers\r\n  return  (dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true))\r\n    userAPI.getUsers(currentPage).then(data => {\r\n        let action1 = setUsersAC(data.items)\r\n        dispatch(action1)\r\n        let action2 = toggleIsFetchingAC(false)\r\n        dispatch(action2)\r\n    })\r\n  }\r\n}\r\n\r\nexport const followTC = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(addFollowingInProgressAC(userId))\r\n    userAPI.follow(userId).then((data) => {\r\n        if(data.resultCode === 0) {\r\n          let action = followAC(userId)\r\n          dispatch(action)\r\n          dispatch(removeFollowingInProgressAC(userId))\r\n        }\r\n    })\r\n  }\r\n}\r\n\r\nexport const unfollowTC = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(addFollowingInProgressAC(userId))\r\n    userAPI.unfollow(userId).then((data) => {\r\n        if(data.resultCode === 0) {\r\n          let action = unfollowAC(userId)\r\n          dispatch(action)\r\n          dispatch(removeFollowingInProgressAC(userId))\r\n        }\r\n    })\r\n  }\r\n}\r\n\r\nexport const setTotalCountTC = () => {\r\n  return (dispatch) => {\r\n      userAPI.getTotalCount().then((data) => {\r\n        let action = setTotalCountAC(data.totalCount)\r\n        dispatch(action)\r\n      })\r\n  }\r\n}\r\n\r\nexport default usersReducer","import {authMeTC} from './auth-reducer'\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state=initialState,action) => {\r\n    switch(action.type) {\r\n        case SET_INITIALIZED:\r\n            return {...state, initialized: true}\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\nconst setInitializedAC = () => {\r\n    return {\r\n        type: SET_INITIALIZED\r\n    }\r\n}\r\n\r\nexport const setInitializedTC = () => {\r\n    return (dispatch) => {\r\n        let promise1 = dispatch(authMeTC())\r\n        Promise.all([promise1])\r\n               .then(() => {\r\n                   dispatch(setInitializedAC())\r\n               })\r\n    }\r\n}\r\n\r\nexport default appReducer","import {createStore,combineReducers,applyMiddleware,compose} from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n  stateOfProfilePage: profileReducer,\r\n  stateOfDialogsPage: dialogsReducer,\r\n  stateOfUsersPage: usersReducer,\r\n  stateOfAuth: authReducer,\r\n  stateOfApp: appReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst store = createStore(reducers,applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","\r\nexport const getInitializedBoolVal = (state) => {\r\n    return state.stateOfApp.initialized\r\n}","import React from 'react'\r\nimport styles from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <div className={styles.header}>\r\n      <img src='https://mostaql.hsoubcdn.com/uploads/201639-1469757735-Logo_Image_01.png' alt='logo'/>\r\n      {\r\n        props.isAuth ? \r\n        <p>{props.loginName} - <button onClick={props.logout}>Logout</button></p> : \r\n        <p>\r\n          <NavLink to='/auth'>\r\n            Login\r\n          </NavLink>\r\n        </p>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport Header from './Header'\r\nimport {connect} from 'react-redux'\r\nimport {logoutTC} from '../../redux/auth-reducer'\r\nimport {getIsAuthBoolVal,getLoginName} from '../../redux/selectors/auth-selector'\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n  const logout = () => {\r\n    let thunk = logoutTC()\r\n    props.logout(thunk)\r\n  }\r\n  \r\n  return (\r\n    <Header isAuth={props.isAuth} loginName={props.loginName} logout={logout}/>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: getIsAuthBoolVal(state),\r\n    loginName: getLoginName(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: function(thunk) {\r\n      dispatch(thunk)\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(HeaderContainer)","import React from \"react\";\r\nimport styles from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n  let c1 = \"item\";\r\n  let c2 = \"active\";\r\n  let classesNew = `${styles.item} ${c2}`;\r\n\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n          Dialogs\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/news\" activeClassName={styles.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/music\" activeClassName={styles.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/users\" activeClassName={styles.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/settings\" activeClassName={styles.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react'\r\nimport {Field,reduxForm} from 'redux-form'\r\nimport styles from './Auth.module.css'\r\nimport {requairedValid,maxLengthCreator} from '../../common/validation/formValidation'\r\nimport {Input} from '../../common/customFields/CustomFields'\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst AuthForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n        <p className={styles.inputWrapper}>\r\n          <Field component={Input} placeholder={'Input email'} type='email'\r\n                  validate={[maxLength30]} name='emailField'\r\n                  fieldValue={'vodorodo51@gmail.com'}/>\r\n        </p>\r\n        <p className={styles.inputWrapper}>\r\n          <Field component={Input} placeholder={'Input password'} type='password'\r\n                  validate={[maxLength30]} name='passwordField'\r\n                  fieldValue={'R6n1gAZ43K9'}/>\r\n        </p>\r\n        <p className={styles.inputWrapper}>\r\n          <Field component={Input} name='checkboxField' type='checkbox'/>\r\n        </p>\r\n        <p className={styles.inputWrapper}>\r\n          <button>Login</button>\r\n        </p>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AuthReduxForm = reduxForm({form: 'authForm'})(AuthForm)\r\n\r\nconst Auth = (props) => {\r\n  const loginHandler = (formData) => {\r\n    props.loginHandler(formData.emailField, formData.passwordField, formData.checkboxField)\r\n  }\r\n  \r\n  return (\r\n    <div className={styles.auth}>\r\n      <AuthReduxForm onSubmit={loginHandler}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Auth;","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {loginTC} from '../../redux/auth-reducer'\r\nimport {getIsAuthBoolVal,getCurrentPage} from '../../redux/selectors/auth-selector'\r\nimport Auth from './Auth'\r\n\r\nconst AuthContainer = (props) => {\r\n\r\n  const loginHandler = (emailValue,passwordValue,checkBox) => {\r\n    let thunk = loginTC(emailValue,passwordValue,checkBox)\r\n    props.login(thunk)\r\n  }\r\n//\r\n  React.useEffect(() => {\r\n    debugger;\r\n  },[props.isAuth])\r\n\r\n  return (\r\n    // props.isAuth ? <Redirect to={'/dialogs'}/> : <Auth loginHandler={loginHandler}/>\r\n    props.isAuth ? <Redirect to={props.currentPage}/> : <Auth loginHandler={loginHandler}/>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n return {\r\n    isAuth: getIsAuthBoolVal(state),\r\n    currentPage: getCurrentPage(state)\r\n }\r\n}\r\n\r\nconst mapDispatchToProp = (dispatch) => {\r\n  return {\r\n    login: function(thunk) {\r\n      dispatch(thunk)\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProp)(AuthContainer)","import React from 'react'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nconst withSuspenseHOC = (Comp) => {\r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader/>}>\r\n                <Comp />\r\n            </React.Suspense>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withSuspenseHOC","import  React from 'react';\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import  React from 'react';\r\n\r\nconst Music = (props) => {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music;","export const getUsers = (state) => {\r\n    return state.stateOfUsersPage.users\r\n}\r\n\r\nexport const getPagesCount = (state) => {\r\n    return state.stateOfUsersPage.pagesCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.stateOfUsersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingBoolVal = (state) => {\r\n    return state.stateOfUsersPage.isFetching\r\n}\r\n\r\nexport const getArrFollowingInProgress = (state) => {\r\n    return state.stateOfUsersPage.followingInProgress\r\n}","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport styles from './Pagination.module.css'\r\n\r\nconst Pagination = (props) => {\r\n  const [pages, setPages] = React.useState(0)\r\n  const [amountOfPortions, setPortions] = React.useState(0)\r\n  const [currentPortion, setCurrentPortion] = React.useState(20)\r\n\r\n  const prevHandler = () => {\r\n    setCurrentPortion(currentPortion - 1)\r\n  }\r\n\r\n  const nextHandler = () => {\r\n    console.log(amountOfPortions)\r\n    setCurrentPortion(currentPortion + 1)\r\n  }\r\n\r\n  React.useEffect(() => { // Высчитываем количество порций\r\n    let amountOfPortions = props.pagesCount/20 - props.pagesCount%20/20 + 1\r\n    setPortions(amountOfPortions)\r\n  },[props.pagesCount])\r\n\r\n  React.useEffect(() => {       // Создаем массив для пагинации\r\n    let arr = []\r\n    for(let i=1+(20*(currentPortion-1)); i<=currentPortion*20; i++) {\r\n      arr.push(<span className={classnames({[styles.selectedPage] : i === props.currentPage},styles.pageNumber)}\r\n          onClick={() => props.selectPage(i)}>{i} </span>)\r\n    }\r\n    setPages(arr)\r\n  },[props.currentPage,currentPortion])\r\n\r\n  return (\r\n    <p className={styles.pagination}>\r\n      <div className={styles.buttonWrapper1}>\r\n        <button className={classnames({[styles.unvisible] : currentPortion === 1},styles.prevButton)} onClick={prevHandler}>PREV</button>\r\n      </div>\r\n      <div className={styles.buttonWrapper2}><button className={styles.backButton}>{'<'}</button></div>\r\n      <div className={styles.pages}>\r\n        {pages.length !== 0 ? pages : 'Pagination are counted!'}\r\n      </div>\r\n      <div className={styles.buttonWrapper2}><button className={styles.forwardButton}>{'>'}</button></div>\r\n      <div className={styles.buttonWrapper1}>\r\n        <button className={classnames({[styles.unvisible] : currentPortion === amountOfPortions},styles.nextButton)} onClick={nextHandler}>NEXT</button>\r\n      </div>\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport styles from './Users.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst User = (props) => {\r\n\r\n  const follow = (e) => {\r\n    props.follow(props.userData.id)\r\n  }\r\n\r\n  const unfollow = (e) => {\r\n    props.unfollow(props.userData.id)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.userWrapper}>\r\n      <div className={styles.avaButtonWrapper}>\r\n        <div className={styles.userAvaWrapper}>\r\n          <NavLink to={`/profile/${props.userData.id}`}>\r\n            <img src='https://pbs.twimg.com/profile_images/460533834547601408/5bbvogtJ.jpeg' \r\n                alt='ava' className={styles.userAva}/>\r\n          </NavLink>\r\n        </div>\r\n        {props.userData.followed ? \r\n              <button className={styles.unfollowButton} onClick={unfollow} \r\n                    disabled={props.arrFollowingInProgress.some(id => id === props.userData.id)}>Unfollow</button> :\r\n              <button className={styles.followButton} onClick={follow} \r\n                    disabled={props.arrFollowingInProgress.some(id => id === props.userData.id)}>Follow</button>\r\n        }\r\n      </div>\r\n      <div className={styles.userDataWrapper}>\r\n        <p className={styles.userData}><span>{props.userData.name}</span></p>\r\n        <p className={styles.userData}><span>{props.userData.status}</span></p>\r\n        {/* <p className={styles.userData}><span>{props.userData.name}</span><span>{props.userData.location.country}</span></p>\r\n        <p className={styles.userData}><span>{props.userData.status}</span><span>{props.userData.location.city}</span></p> */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from './Users.module.css'\r\nimport Pagination from '../../common/Pagination/Pagination'\r\nimport User from './User'\r\n\r\nconst Users = (props) => {\r\n\r\n  React.useEffect(() => {       // Берем общее количество пользователей\r\n    props.setTotalCount()\r\n  },[])\r\n  React.useEffect(() => {       // берем профили пользователей\r\n    props.setUsers(props.currentPage)\r\n  },[props.currentPage])\r\n  //////////////////////////////////////////////////////////////////\r\n  const follow = (userId) => {\r\n    props.follow(userId)\r\n  }\r\n\r\n  const unfollow = (userId) => {\r\n    props.unfollow(userId)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.usersWrapper}>\r\n      {/* <p className={styles.title}>USERS</p> */}\r\n      <div className={styles.pagination}><Pagination pagesCount={props.pagesCount} currentPage={props.currentPage} selectPage={props.selectPage}/></div>\r\n      {/* <p className={styles.pagination}>{pages.length !== 0 ? pages : 'Pagination are counted!'}</p> */}\r\n      {props.users !== undefined ? \r\n      props.users.map(user => <User arrFollowingInProgress={props.arrFollowingInProgress} userData={user} follow={follow} unfollow={unfollow}/>) : \r\n      'Users are downloaded!'}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users;","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\nimport withAuthRedirectHOC from '../../HOC/withAuthRedirectHOC'\r\nimport {getUsers,getPagesCount,getCurrentPage,getIsFetchingBoolVal,\r\n        getArrFollowingInProgress} from '../../redux/selectors/users-selector'\r\nimport Users from './Users'\r\nimport {followTC,unfollowTC,setUsersTC,setTotalCountTC,setCurrentPageAC} from '../../redux/users-reducer'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nconst UsersContainer = (props) => {\r\n\r\n  const setUsers = (currentPage) => {     // получаем профили пользователей из диапазона\r\n    let thunk = setUsersTC(currentPage)\r\n    props.setUsers(thunk)\r\n  }\r\n\r\n  const setTotalCount = () => {           // получаем общее количество пользователей \r\n    let thunk = setTotalCountTC()\r\n    props.setTotalCount(thunk)\r\n  }\r\n\r\n  const follow = (userId) => {\r\n    let thunk = followTC(userId)\r\n    props.follow(thunk)\r\n  }\r\n\r\n  const unfollow = (userId) => {\r\n    let thunk = unfollowTC(userId)\r\n    props.unfollow(thunk)\r\n  }\r\n\r\n  const selectPage = (selectedPage) => {\r\n    let action = setCurrentPageAC(selectedPage)\r\n    props.setCurrentPage(action)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      { props.isFetching ? <Preloader /> : null }\r\n        <Users users={props.users} follow={follow} unfollow={unfollow} setUsers={setUsers} \r\n                setTotalCount={setTotalCount} selectPage={selectPage} pagesCount={props.pagesCount} \r\n                currentPage={props.currentPage} arrFollowingInProgress={props.arrFollowingInProgress}/>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pagesCount: getPagesCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetchingBoolVal(state),\r\n    arrFollowingInProgress: getArrFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    follow: function(thunk) {\r\n      dispatch(thunk)\r\n    },\r\n    unfollow: function(thunk) {\r\n      dispatch(thunk)\r\n    },\r\n    setUsers: function(thunk) {\r\n      dispatch(thunk)\r\n    },\r\n    setTotalCount: function(thunk) {\r\n      dispatch(thunk)\r\n    },\r\n    setCurrentPage: function(action) {\r\n      dispatch(action)\r\n    },\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,mapDispatchToProps),\r\n  withAuthRedirectHOC\r\n)(UsersContainer)","import  React from 'react';\r\n\r\nconst Settings = (props) => {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport store from './redux/store';\r\nimport {Route} from 'react-router-dom';\r\nimport './App.css';\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux'\r\nimport {setInitializedTC} from './redux/app-reducer'\r\nimport {getInitializedBoolVal} from './redux/selectors/app-selector'\r\nimport Preloader from './common/Preloader/Preloader'\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport AuthContainer from './components/auth/AuthContainer';\r\nimport withSuspenseHOC from './HOC/withSuspenseHOC'\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport Settings from './components/Settings/Settings';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let thunk = setInitializedTC()\r\n    this.props.setInitialize(thunk)\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className='app-wrapper-content'>\r\n          <Route path='/profile/:userId?' key={1} \r\n                  render={() => {\r\n                    let Profile = withSuspenseHOC(ProfileContainer)\r\n                    return <Profile />\r\n                  }}\r\n          />\r\n          <Route path='/dialogs' key={2} \r\n                  render={() => {\r\n                    let Dialogs = withSuspenseHOC(DialogsContainer)\r\n                    return <Dialogs/>\r\n                  }}\r\n          />\r\n          <Route path='/news' key={3} \r\n                  render={() => <News />}\r\n          />\r\n          <Route path='/music' key={4} \r\n                  render={() => <Music />}\r\n          />\r\n          <Route path='/users' key={5} \r\n                  render={() => <UsersContainer />}\r\n          />\r\n          <Route path='/settings' key={6} \r\n                  render={() => <Settings />}\r\n          />\r\n          <Route path='/auth' key={7}\r\n                  render={() => <AuthContainer />}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: getInitializedBoolVal(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProp = (dispatch) => {\r\n  return {\r\n    setInitialize: (thunk) => {\r\n      dispatch(thunk)\r\n    }\r\n  }\r\n}\r\n\r\nconst WrappedApp = compose(\r\n  connect(mapStateToProps,mapDispatchToProp),\r\n  withRouter\r\n)(App)\r\n\r\nconst ProvidedApp = (props) => {\r\n  return (<BrowserRouter>\r\n    <Provider store={store}>\r\n      <WrappedApp />\r\n    </Provider>\r\n  </BrowserRouter>)\r\n}\r\n\r\nexport default ProvidedApp\r\n\r\n// export default compose(\r\n//   withRouter,\r\n//   connect(mapStateToProps, mapDispatchToProp)\r\n// )(App)\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport ProvidedApp from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n// Здесь store передаем одновременно со state т.к. в данный момент времени требуется\r\n// store в нижних компонентах, но далее удалим\r\nReactDOM.render(\r\n  <ProvidedApp />,\r\n  document.getElementById('root')\r\n)\r\n\r\n// rerenderEntireTree(store)\r\n\r\n// store.subscribe(() => {\r\n//   rerenderEntireTree(this)\r\n// });\r\n// rerenderEntireTree(store.getState())\r\n\r\n// store.subscribe(() => {\r\n//   let state = store.getState()\r\n//   rerenderEntireTree(state)\r\n// });\r\n\r\nreportWebVitals()\r\n","import {authAPI} from '../DAL/api'\r\n\r\nconst LOGIN = 'LOGIN'\r\nconst LOGOUT = 'LOGOUT'\r\nconst AUTH_ME = 'AUTH_ME'\r\nconst SET_IS_AUTH = 'SET_IS_AUTH'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\n\r\nlet initialState = {\r\n  currentPage: '',\r\n  isAuth: false,\r\n  resultCode: 0,\r\n  messages: [],\r\n  data: {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n  }\r\n}\r\n\r\nconst authReducer = (state=initialState,action) => {\r\n  switch(action.type) {\r\n    case LOGIN: {\r\n      return {...action.authData}\r\n    }\r\n    case LOGOUT: {\r\n      return {...state, isAuth: false, data: {\r\n          id: null,\r\n          login: null,\r\n          email: null,\r\n      }}\r\n    }\r\n    case AUTH_ME: {\r\n      return {...state, isAuth: action.isAuth, data: {...action.authData}}\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.path}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Далее идут action creators\r\nconst authMeAC = (authData,isAuth) => {\r\n  return {\r\n    type: AUTH_ME,\r\n    authData,\r\n    isAuth\r\n  }\r\n}\r\n\r\nconst authLoginAC = (authData) => {\r\n  return {\r\n    type: LOGIN,\r\n    authData\r\n  }\r\n}\r\n\r\nconst logoutAC = () => {\r\n  return {\r\n    type: LOGOUT\r\n  }\r\n}\r\n\r\nexport const setCurrentPageAC = (path) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    path\r\n  }\r\n}\r\n\r\n// Далее идут thunk creators\r\nexport const authMeTC = () => {\r\n  return (dispatch) => {\r\n      return authAPI.authMe()\r\n            .then(data => {\r\n              if(data.resultCode === 0) {\r\n                let action = authMeAC(data.data,true)\r\n                dispatch(action)\r\n              } else {\r\n                let action = authMeAC(data.data,false)\r\n                dispatch(action)\r\n              }\r\n            })\r\n  }\r\n}\r\n\r\nexport const loginTC = (emailValue,passwordValue,rememberMe) => {\r\n  return (dispatch) => {\r\n    authAPI.login(emailValue,passwordValue,rememberMe)\r\n          .then(data => {\r\n            if(data.resultCode === 0) {\r\n              dispatch(authMeTC())\r\n            }\r\n          })\r\n  }\r\n}\r\n\r\nexport const logoutTC = () => {\r\n  return dispatch => {\r\n    authAPI.logout()\r\n          .then(data => {\r\n            if(data.resultCode === 0) {\r\n              let action = logoutAC()\r\n              dispatch(action)\r\n            }\r\n          })\r\n  }\r\n}\r\n\r\nexport default authReducer","export default __webpack_public_path__ + \"static/media/Spinner.d47db638.gif\";","import React from 'react'\r\nimport Spinner from '../../assets/Spinner.gif'\r\nimport styles from './Preloader.module.css'\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div className={styles.preloaderWrapper}>\r\n      <img className={styles.preloader} src={Spinner} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","\r\nexport const getMyId = (state) => {\r\n    return state.stateOfAuth.data.id\r\n}\r\n\r\nexport const getIsAuthBoolVal = (state) => {\r\n    return state.stateOfAuth.isAuth\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.stateOfAuth.currentPage\r\n}\r\n\r\nexport const getLoginName = (state) => {\r\n    return state.stateOfAuth.data.login\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"Auth_inputWrapper__2vzM5\",\"auth\":\"Auth_auth__1veFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CustomFields_wrapper__1vpKI\",\"error\":\"CustomFields_error__33ZlJ\"};","import React from 'react'\r\nimport styles from './CustomFields.module.css'\r\n\r\nconst FormControl = (props) => { // здесь находится общий код всех кастомных филдов\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {props.children}\r\n            {props.meta.touched && props.meta.error && <span className={styles.error}>{props.meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({input,meta,...props}) => {\r\n    return (\r\n        <FormControl meta={meta}>\r\n            <textarea className={styles.textareaField} {...input} {...props}\r\n                    placeholder={props.placeholder}>\r\n            </textarea>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = ({input,meta,...props}) => {\r\n    return (\r\n        <FormControl meta={meta}>\r\n            <input className={styles.inputField} {...input} {...props} type={props.type} \r\n                    placeholder={props.placeholder}/>\r\n        </FormControl>\r\n    )\r\n}\r\n// value={props.fieldValue}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrapper\":\"Preloader_preloaderWrapper__3rxu0\",\"preloader\":\"Preloader_preloader__f-OJj\"};","import {userAPI,profileAPI} from '../DAL/api'\r\n\r\nconst ADD_NEW_POST = 'ADD_NEW_POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\nlet initialState = {\r\n  posts: \r\n      [\r\n        {\r\n          postText: 'Hi, how are you?',\r\n          likesCount: 11\r\n        },\r\n        {\r\n          postText: \"It's my first post\",\r\n          likesCount: 12\r\n        },\r\n        {\r\n          postText: 'BlaBla',\r\n          likesCount: 13\r\n        },\r\n        {\r\n          postText: 'Dada',\r\n          likesCount: 14\r\n        }\r\n      ],\r\n  profile: {},\r\n  status: '',\r\n  isFetching: true,\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case ADD_NEW_POST:\r\n      return {...state, posts: [...state.posts, \r\n        {\r\n          postText: action.newPostText, \r\n          likesCount: 0\r\n        }\r\n      ]}\r\n    // case UPDATE_NEW_POST_TEXT:\r\n    //   return {...state, newPostText: action.newPostText}\r\n    case SET_USER_PROFILE:\r\n      return {...state, profile: action.userProfile}\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching}\r\n    case SET_STATUS:\r\n      return {...state, status: action.newStatus}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n// Далее идут action creators\r\nexport const addNewPostAC = (newPostText) => {\r\n  return {\r\n    type: 'ADD_NEW_POST',\r\n    newPostText\r\n  }\r\n}\r\n\r\nexport const setUserProfileAC = (userProfile) => {\r\n  return {\r\n    type: SET_USER_PROFILE,\r\n    userProfile\r\n  }\r\n}\r\nconst toggleIsFetchingAC = (boolVal) => {\r\n  return {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: boolVal\r\n  }\r\n}\r\nexport const setStatusAC = (newStatus) => {\r\n  return {\r\n    type: SET_STATUS,\r\n    newStatus\r\n  }\r\n}\r\n\r\n//Далее идут thunk creators\r\nexport const setUserTC = (userId) => {\r\n  return (dispatch) => {\r\n      dispatch(toggleIsFetchingAC(true))\r\n      userAPI.getUser(userId)\r\n            .then(data => {\r\n              let action = setUserProfileAC(data)\r\n              dispatch(action)\r\n              dispatch(toggleIsFetchingAC(false))\r\n            })\r\n  }\r\n}\r\n\r\nexport const setStatusTC = (userId) => {\r\n  return async(dispatch) => {\r\n      let response = await profileAPI.getStatus(userId)\r\n      let action = setStatusAC(response)\r\n      dispatch(action)        \r\n  }\r\n}\r\n\r\nexport const updateStatusTC = (newStatus) => {\r\n  return async (dispatch) => {\r\n      let response = await profileAPI.updateStatus(newStatus)\r\n      if(response.resultCode === 0) {\r\n        let action = setStatusAC(newStatus)\r\n        dispatch(action)\r\n      }\r\n  }\r\n}\r\n\r\nexport default profileReducer;","\r\nexport const requairedValid = (fieldValue) => {\r\n    if(fieldValue) {\r\n        return undefined\r\n    } else {return 'Field need to be filled'}\r\n}\r\n\r\nexport const maxLengthCreator = (amountOfSymbols) => {\r\n    return (fieldValue) => {\r\n        if(fieldValue) {\r\n            if(fieldValue.length <= amountOfSymbols) {\r\n                return undefined\r\n            } else {return 'Too many symbols'}\r\n        } else {return undefined}\r\n    }   \r\n}\r\n","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {setCurrentPageAC} from '../redux/auth-reducer'\r\n\r\nconst withAuthRedirectHOC = (Comp) => {\r\n    let WrappedComp = class extends React.Component {\r\n        constructor(props) {\r\n            super(props)\r\n        }\r\n        render() {\r\n            debugger\r\n            console.log(this.props.match.path)\r\n            console.log(this.props.match.url)\r\n                if(this.props.isAuth ) {\r\n                    return <Comp {...this.props}/>\r\n                } else {\r\n                    let action = setCurrentPageAC(this.props.match.path)\r\n                    this.props.setCurrentPage(action)\r\n                    return <Redirect to={'/auth'}/>\r\n                }\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.stateOfAuth.isAuth\r\n        }\r\n    }\r\n    \r\n    const mapDispatchToProps = (dispatch) => {\r\n        return {\r\n            setCurrentPage: (action) => {\r\n                dispatch(action)\r\n            }\r\n        }\r\n    }\r\n    \r\n    return connect(mapStateToProps,mapDispatchToProps)(withRouter(WrappedComp))\r\n    // где withRouter библиотека для доступа к поисковой строке\r\n}\r\n\r\nexport default withAuthRedirectHOC\r\n\r\n"],"sourceRoot":""}